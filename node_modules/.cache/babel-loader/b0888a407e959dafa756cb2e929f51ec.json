{"ast":null,"code":"var _jsxFileName = \"/home/hitesh/work/projects/diamond-sweeper/src/client/components/pages/Game/Game.jsx\";\nimport React from 'react';\nimport './game.scss';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\n\nconst Game = props => {\n  const GAMEROW = 8,\n        GAMECOL = 8,\n        MAX_DIAMONDS = 8; //Initial data\n\n  let initialGame = [];\n  const [gameState, setGameState] = useState([]);\n  const [openCards, setOpenCards] = useState([]);\n  const [revealedDiamondCount, setRevealedDiamondCount] = useState(0);\n  const [isFinish, setFinish] = useState(false); //Utills\n\n  const getPlaceholder = (row, col) => {\n    let pos = row + '' + col;\n\n    if (openCards.indexOf(pos) != -1) {\n      if (gameState[row][col]) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"board-place\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 24\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-diamond\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 53\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"board-place\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 24\n          }\n        });\n      }\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"board-place\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-question\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 49\n        }\n      }));\n    }\n  };\n\n  const randomNumber = (min, max) => {\n    return Math.round(Math.random() * (max - min) + min);\n  };\n\n  const openCard = (rowIndex, colIndex) => {\n    if (isFinish) {\n      return;\n    }\n\n    let newArr = [...openCards];\n    newArr.push(rowIndex + '' + colIndex);\n    setOpenCards(newArr);\n\n    if (gameState[rowIndex][colIndex]) {\n      if (revealedDiamondCount == 7) {\n        setFinish(true);\n      } else {\n        setRevealedDiamondCount(revealedDiamondCount + 1);\n      }\n    }\n  };\n\n  useEffect(() => {\n    let diamondPos = [];\n\n    for (let i = 0; i < MAX_DIAMONDS; i++) {\n      diamondPos.push(randomNumber(10 * i, 10 * i + (GAMECOL - 1)));\n    }\n\n    for (let i = 0; i < GAMEROW; i++) {\n      initialGame[i] = [];\n\n      for (let j = 0; j < GAMECOL; j++) {\n        if (diamondPos.indexOf(Number(i + '' + j)) != -1) {\n          initialGame[i][j] = true;\n        } else {\n          initialGame[i][j] = false;\n        }\n      }\n    }\n\n    setGameState(initialGame);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"game-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Diamond Sweeper\"), isFinish ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"green-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, \"You won! Your score is : \", GAMEROW * GAMECOL - openCards.length, \", \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"blue-text\",\n    onClick: () => window.location.reload(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 124\n    }\n  }, \"Click here\"), \" to play again\") : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"board\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, gameState.map((row, rowIndex) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      key: rowIndex + '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 32\n      }\n    }, row.map((col, colIndex) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: 'col',\n        key: rowIndex + '' + colIndex,\n        onClick: () => openCard(rowIndex, colIndex),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 40\n        }\n      }, getPlaceholder(rowIndex, colIndex));\n    }));\n  }))));\n};\n\nexport default Game;","map":{"version":3,"sources":["/home/hitesh/work/projects/diamond-sweeper/src/client/components/pages/Game/Game.jsx"],"names":["React","useState","useEffect","Game","props","GAMEROW","GAMECOL","MAX_DIAMONDS","initialGame","gameState","setGameState","openCards","setOpenCards","revealedDiamondCount","setRevealedDiamondCount","isFinish","setFinish","getPlaceholder","row","col","pos","indexOf","randomNumber","min","max","Math","round","random","openCard","rowIndex","colIndex","newArr","push","diamondPos","i","j","Number","length","window","location","reload","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './game.scss';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\n\nconst Game = (props) => {\n\n    const GAMEROW = 8, GAMECOL = 8, MAX_DIAMONDS = 8;\n\n    //Initial data\n    let initialGame = [];\n    const [gameState, setGameState] = useState([]);\n    const [openCards, setOpenCards] = useState([]);\n    const [revealedDiamondCount, setRevealedDiamondCount] = useState(0);\n    const [isFinish, setFinish] = useState(false);\n\n    //Utills\n    const getPlaceholder = (row, col) => {\n        let pos = row+''+col;\n        if(openCards.indexOf(pos) != -1){\n            if(gameState[row][col]){\n                return <div className='board-place'><i className='fa fa-diamond'></i></div>\n            }else{\n                return <div className='board-place'></div>\n            }\n        }else{\n            return <div className='board-place'><i className='fa fa-question'></i></div>\n        }\n    }\n\n    const randomNumber = (min, max) => {  \n        return Math.round(Math.random() * (max - min) + min); \n    }\n\n    const openCard = (rowIndex, colIndex) => {\n        if(isFinish){\n            return;\n        }\n        let newArr = [...openCards];\n        newArr.push(rowIndex+''+colIndex);\n        setOpenCards(newArr);\n\n        if(gameState[rowIndex][colIndex]){\n            if(revealedDiamondCount == 7){\n                setFinish(true);\n            }else{\n                setRevealedDiamondCount(revealedDiamondCount + 1);\n            }\n        }   \n    }\n\n    useEffect(() => {\n        let diamondPos = [];\n        for(let i = 0; i < MAX_DIAMONDS; i++){\n            diamondPos.push(randomNumber(10*i, 10*i+(GAMECOL - 1)));\n        }\n        for (let i = 0; i < GAMEROW; i++) {\n            initialGame[i] = [];\n            for (let j = 0; j < GAMECOL; j++) {\n                if (diamondPos.indexOf(Number(i+''+j)) != -1) {\n                    initialGame[i][j] = true;\n                } else {\n                    initialGame[i][j] = false;\n                }\n            }\n        }\n        setGameState(initialGame)\n    }, [])\n\n    return (\n        <>\n            <div className='game-container'>\n                <h2 className='heading'>Diamond Sweeper</h2>\n                {isFinish ? <h3 className='green-heading'>You won! Your score is : {(GAMEROW*GAMECOL) - openCards.length}, <span className='blue-text' onClick={() => window.location.reload()}>Click here</span> to play again</h3> : null}\n                <div className='board'>\n                    {gameState.map((row, rowIndex) => {\n                        return <div className='row' key={rowIndex+''}>\n                            {row.map((col, colIndex) => {\n                                return <div className={'col'} key={rowIndex+''+colIndex} onClick={() => openCard(rowIndex, colIndex)}>\n                                    {getPlaceholder(rowIndex, colIndex)}\n                                </div>\n                            })}\n                        </div>\n                    })}\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}